# РАБОЧАЯ программа для поэлементного POW над векторами длины 7
# Вектор A = [2, 3, 4, 5, 6, 7, 8] - основания
# Вектор B = [1, 2, 3, 2, 1, 2, 3] - показатели
# Результат: вектор C = [2^1, 3^2, 4^3, 5^2, 6^1, 7^2, 8^3]

# Записываем вектор A (основания) в память по адресам 1000-1006
- command: load
  constant: 2
  address: 0

- command: load
  constant: 1000
  address: 1

- command: write
  value_reg: 0
  address_reg: 1
  offset: 0

- command: load
  constant: 3
  address: 0

- command: write
  value_reg: 0
  address_reg: 1
  offset: 1

- command: load
  constant: 4
  address: 0

- command: write
  value_reg: 0
  address_reg: 1
  offset: 2

- command: load
  constant: 5
  address: 0

- command: write
  value_reg: 0
  address_reg: 1
  offset: 3

- command: load
  constant: 6
  address: 0

- command: write
  value_reg: 0
  address_reg: 1
  offset: 4

- command: load
  constant: 7
  address: 0

- command: write
  value_reg: 0
  address_reg: 1
  offset: 5

- command: load
  constant: 8
  address: 0

- command: write
  value_reg: 0
  address_reg: 1
  offset: 6

# Записываем вектор B (показатели) в память по адресам 2000-2006
- command: load
  constant: 1
  address: 0

- command: load
  constant: 2000
  address: 2

- command: write
  value_reg: 0
  address_reg: 2
  offset: 0

- command: load
  constant: 2
  address: 0

- command: write
  value_reg: 0
  address_reg: 2
  offset: 1

- command: load
  constant: 3
  address: 0

- command: write
  value_reg: 0
  address_reg: 2
  offset: 2

- command: load
  constant: 2
  address: 0

- command: write
  value_reg: 0
  address_reg: 2
  offset: 3

- command: load
  constant: 1
  address: 0

- command: write
  value_reg: 0
  address_reg: 2
  offset: 4

- command: load
  constant: 2
  address: 0

- command: write
  value_reg: 0
  address_reg: 2
  offset: 5

- command: load
  constant: 3
  address: 0

- command: write
  value_reg: 0
  address_reg: 2
  offset: 6

# Вычисляем поэлементный POW и сохраняем в вектор C по адресам 3000-3006
- command: load
  constant: 3000
  address: 3

# Загружаем адреса вектора B в регистры для использования в POW
# Используем только регистры 0-7
- command: load
  constant: 2000
  address: 4

- command: load
  constant: 2001
  address: 5

- command: load
  constant: 2002
  address: 6

- command: load
  constant: 2003
  address: 7

# Элемент 0: 2^1 = 2
- command: pow
  value1_addr: 1000
  value2_reg: 4
  result_reg: 0

- command: write
  value_reg: 0
  address_reg: 3
  offset: 0

# Элемент 1: 3^2 = 9
- command: pow
  value1_addr: 1001
  value2_reg: 5
  result_reg: 0

- command: write
  value_reg: 0
  address_reg: 3
  offset: 1

# Элемент 2: 4^3 = 64
- command: pow
  value1_addr: 1002
  value2_reg: 6
  result_reg: 0

- command: write
  value_reg: 0
  address_reg: 3
  offset: 2

# Элемент 3: 5^2 = 25
- command: pow
  value1_addr: 1003
  value2_reg: 7
  result_reg: 0

- command: write
  value_reg: 0
  address_reg: 3
  offset: 3

# Для оставшихся элементов перезаписываем адреса в регистрах
- command: load
  constant: 2004
  address: 4

- command: load
  constant: 2005
  address: 5

- command: load
  constant: 2006
  address: 6

# Элемент 4: 6^1 = 6
- command: pow
  value1_addr: 1004
  value2_reg: 4
  result_reg: 0

- command: write
  value_reg: 0
  address_reg: 3
  offset: 4

# Элемент 5: 7^2 = 49
- command: pow
  value1_addr: 1005
  value2_reg: 5
  result_reg: 0

- command: write
  value_reg: 0
  address_reg: 3
  offset: 5

# Элемент 6: 8^3 = 512
- command: pow
  value1_addr: 1006
  value2_reg: 6
  result_reg: 0

- command: write
  value_reg: 0
  address_reg: 3
  offset: 6